{"id":"RQVy","dependencies":[{"name":"/Users/hansoksendahl/Code/hox.io/packages/@hox.io/app/package.json","includedInParent":true,"mtime":1561481613478},{"name":"react","loc":{"line":1,"column":40},"parent":"/Users/hansoksendahl/Code/hox.io/packages/@hox.io/app/node_modules/@hox.io/hooks/src/useRect.js","resolved":"/Users/hansoksendahl/Code/hox.io/packages/@hox.io/app/node_modules/react/index.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.default=n;var t=require(\"react\");function e(t){const e=t.getBoundingClientRect(),o=window.pageXOffset||window.scrollX,n=window.pageYOffset||window.scrollY;return{top:e.top+n,right:e.left+o,bottom:e.bottom+n,left:e.left+o,width:e.width,height:e.height}}const o={top:0,right:0,bottom:0,left:0,width:0,height:0};function n(){const[n,i]=(0,t.useState)(o),[r,s]=(0,t.useState)(null);return(0,t.useLayoutEffect)(()=>{if(null!==r){let o=!1;function t(){o||(window.requestAnimationFrame(()=>{i(e(r)),o=!1}),o=!0)}return window.addEventListener(\"resize\",t),i(e(r)),()=>{window.removeEventListener(\"resize\",t)}}},[r]),{rect:n,ref:s}}"},"sourceMaps":{"js":{"mappings":[{"source":"node_modules/@hox.io/hooks/src/useRect.js","original":{"line":62,"column":1},"generated":{"line":1,"column":0}},{"source":"node_modules/@hox.io/hooks/src/useRect.js","original":{"line":62,"column":1},"generated":{"line":1,"column":13}},{"source":"node_modules/@hox.io/hooks/src/useRect.js","original":{"line":62,"column":1},"generated":{"line":1,"column":20}},{"source":"node_modules/@hox.io/hooks/src/useRect.js","original":{"line":62,"column":1},"generated":{"line":1,"column":35}},{"source":"node_modules/@hox.io/hooks/src/useRect.js","original":{"line":62,"column":1},"generated":{"line":1,"column":43}},{"source":"node_modules/@hox.io/hooks/src/useRect.js","original":{"line":62,"column":1},"generated":{"line":1,"column":56}},{"source":"node_modules/@hox.io/hooks/src/useRect.js","original":{"line":62,"column":1},"generated":{"line":1,"column":57}},{"source":"node_modules/@hox.io/hooks/src/useRect.js","original":{"line":62,"column":1},"generated":{"line":1,"column":64}},{"source":"node_modules/@hox.io/hooks/src/useRect.js","original":{"line":62,"column":1},"generated":{"line":1,"column":68}},{"source":"node_modules/@hox.io/hooks/src/useRect.js","original":{"line":62,"column":1},"generated":{"line":1,"column":76}},{"source":"node_modules/@hox.io/hooks/src/useRect.js","original":{"line":62,"column":1},"generated":{"line":1,"column":84}},{"source":"node_modules/@hox.io/hooks/src/useRect.js","original":{"line":1,"column":0},"generated":{"line":1,"column":86}},{"source":"node_modules/@hox.io/hooks/src/useRect.js","original":{"line":1,"column":0},"generated":{"line":1,"column":90}},{"source":"node_modules/@hox.io/hooks/src/useRect.js","original":{"line":1,"column":0},"generated":{"line":1,"column":92}},{"source":"node_modules/@hox.io/hooks/src/useRect.js","original":{"line":1,"column":0},"generated":{"line":1,"column":100}},{"source":"node_modules/@hox.io/hooks/src/useRect.js","original":{"line":4,"column":0},"generated":{"line":1,"column":109}},{"source":"node_modules/@hox.io/hooks/src/useRect.js","name":"getRect","original":{"line":4,"column":9},"generated":{"line":1,"column":118}},{"source":"node_modules/@hox.io/hooks/src/useRect.js","name":"node","original":{"line":4,"column":17},"generated":{"line":1,"column":120}},{"source":"node_modules/@hox.io/hooks/src/useRect.js","name":"rect","original":{"line":5,"column":8},"generated":{"line":1,"column":123}},{"source":"node_modules/@hox.io/hooks/src/useRect.js","name":"rect","original":{"line":5,"column":8},"generated":{"line":1,"column":129}},{"source":"node_modules/@hox.io/hooks/src/useRect.js","name":"node","original":{"line":5,"column":15},"generated":{"line":1,"column":131}},{"source":"node_modules/@hox.io/hooks/src/useRect.js","name":"getBoundingClientRect","original":{"line":5,"column":20},"generated":{"line":1,"column":133}},{"source":"node_modules/@hox.io/hooks/src/useRect.js","name":"offsetX","original":{"line":6,"column":8},"generated":{"line":1,"column":157}},{"source":"node_modules/@hox.io/hooks/src/useRect.js","name":"window","original":{"line":6,"column":18},"generated":{"line":1,"column":159}},{"source":"node_modules/@hox.io/hooks/src/useRect.js","name":"pageXOffset","original":{"line":6,"column":25},"generated":{"line":1,"column":166}},{"source":"node_modules/@hox.io/hooks/src/useRect.js","name":"window","original":{"line":6,"column":40},"generated":{"line":1,"column":179}},{"source":"node_modules/@hox.io/hooks/src/useRect.js","name":"scrollX","original":{"line":6,"column":47},"generated":{"line":1,"column":186}},{"source":"node_modules/@hox.io/hooks/src/useRect.js","name":"offsetY","original":{"line":7,"column":8},"generated":{"line":1,"column":194}},{"source":"node_modules/@hox.io/hooks/src/useRect.js","name":"window","original":{"line":7,"column":18},"generated":{"line":1,"column":196}},{"source":"node_modules/@hox.io/hooks/src/useRect.js","name":"pageYOffset","original":{"line":7,"column":25},"generated":{"line":1,"column":203}},{"source":"node_modules/@hox.io/hooks/src/useRect.js","name":"window","original":{"line":7,"column":40},"generated":{"line":1,"column":216}},{"source":"node_modules/@hox.io/hooks/src/useRect.js","name":"scrollY","original":{"line":7,"column":47},"generated":{"line":1,"column":223}},{"source":"node_modules/@hox.io/hooks/src/useRect.js","original":{"line":9,"column":9},"generated":{"line":1,"column":231}},{"source":"node_modules/@hox.io/hooks/src/useRect.js","original":{"line":9,"column":9},"generated":{"line":1,"column":237}},{"source":"node_modules/@hox.io/hooks/src/useRect.js","name":"top","original":{"line":10,"column":4},"generated":{"line":1,"column":238}},{"source":"node_modules/@hox.io/hooks/src/useRect.js","name":"rect","original":{"line":10,"column":9},"generated":{"line":1,"column":242}},{"source":"node_modules/@hox.io/hooks/src/useRect.js","name":"top","original":{"line":10,"column":14},"generated":{"line":1,"column":244}},{"source":"node_modules/@hox.io/hooks/src/useRect.js","name":"offsetY","original":{"line":10,"column":20},"generated":{"line":1,"column":248}},{"source":"node_modules/@hox.io/hooks/src/useRect.js","name":"right","original":{"line":11,"column":4},"generated":{"line":1,"column":250}},{"source":"node_modules/@hox.io/hooks/src/useRect.js","name":"rect","original":{"line":11,"column":11},"generated":{"line":1,"column":256}},{"source":"node_modules/@hox.io/hooks/src/useRect.js","name":"left","original":{"line":11,"column":16},"generated":{"line":1,"column":258}},{"source":"node_modules/@hox.io/hooks/src/useRect.js","name":"offsetX","original":{"line":11,"column":23},"generated":{"line":1,"column":263}},{"source":"node_modules/@hox.io/hooks/src/useRect.js","name":"bottom","original":{"line":12,"column":4},"generated":{"line":1,"column":265}},{"source":"node_modules/@hox.io/hooks/src/useRect.js","name":"rect","original":{"line":12,"column":12},"generated":{"line":1,"column":272}},{"source":"node_modules/@hox.io/hooks/src/useRect.js","name":"bottom","original":{"line":12,"column":17},"generated":{"line":1,"column":274}},{"source":"node_modules/@hox.io/hooks/src/useRect.js","name":"offsetY","original":{"line":12,"column":26},"generated":{"line":1,"column":281}},{"source":"node_modules/@hox.io/hooks/src/useRect.js","name":"left","original":{"line":13,"column":4},"generated":{"line":1,"column":283}},{"source":"node_modules/@hox.io/hooks/src/useRect.js","name":"rect","original":{"line":13,"column":10},"generated":{"line":1,"column":288}},{"source":"node_modules/@hox.io/hooks/src/useRect.js","name":"left","original":{"line":13,"column":15},"generated":{"line":1,"column":290}},{"source":"node_modules/@hox.io/hooks/src/useRect.js","name":"offsetX","original":{"line":13,"column":22},"generated":{"line":1,"column":295}},{"source":"node_modules/@hox.io/hooks/src/useRect.js","name":"width","original":{"line":14,"column":4},"generated":{"line":1,"column":297}},{"source":"node_modules/@hox.io/hooks/src/useRect.js","name":"rect","original":{"line":14,"column":11},"generated":{"line":1,"column":303}},{"source":"node_modules/@hox.io/hooks/src/useRect.js","name":"width","original":{"line":14,"column":16},"generated":{"line":1,"column":305}},{"source":"node_modules/@hox.io/hooks/src/useRect.js","name":"height","original":{"line":15,"column":4},"generated":{"line":1,"column":311}},{"source":"node_modules/@hox.io/hooks/src/useRect.js","name":"rect","original":{"line":15,"column":12},"generated":{"line":1,"column":318}},{"source":"node_modules/@hox.io/hooks/src/useRect.js","name":"height","original":{"line":15,"column":17},"generated":{"line":1,"column":320}},{"source":"node_modules/@hox.io/hooks/src/useRect.js","original":{"line":19,"column":0},"generated":{"line":1,"column":328}},{"source":"node_modules/@hox.io/hooks/src/useRect.js","name":"initialState","original":{"line":19,"column":6},"generated":{"line":1,"column":334}},{"source":"node_modules/@hox.io/hooks/src/useRect.js","original":{"line":19,"column":21},"generated":{"line":1,"column":336}},{"source":"node_modules/@hox.io/hooks/src/useRect.js","name":"top","original":{"line":20,"column":2},"generated":{"line":1,"column":337}},{"source":"node_modules/@hox.io/hooks/src/useRect.js","original":{"line":20,"column":7},"generated":{"line":1,"column":341}},{"source":"node_modules/@hox.io/hooks/src/useRect.js","name":"right","original":{"line":21,"column":2},"generated":{"line":1,"column":343}},{"source":"node_modules/@hox.io/hooks/src/useRect.js","original":{"line":21,"column":9},"generated":{"line":1,"column":349}},{"source":"node_modules/@hox.io/hooks/src/useRect.js","name":"bottom","original":{"line":22,"column":2},"generated":{"line":1,"column":351}},{"source":"node_modules/@hox.io/hooks/src/useRect.js","original":{"line":22,"column":10},"generated":{"line":1,"column":358}},{"source":"node_modules/@hox.io/hooks/src/useRect.js","name":"left","original":{"line":23,"column":2},"generated":{"line":1,"column":360}},{"source":"node_modules/@hox.io/hooks/src/useRect.js","original":{"line":23,"column":8},"generated":{"line":1,"column":365}},{"source":"node_modules/@hox.io/hooks/src/useRect.js","name":"width","original":{"line":24,"column":2},"generated":{"line":1,"column":367}},{"source":"node_modules/@hox.io/hooks/src/useRect.js","original":{"line":24,"column":9},"generated":{"line":1,"column":373}},{"source":"node_modules/@hox.io/hooks/src/useRect.js","name":"height","original":{"line":25,"column":2},"generated":{"line":1,"column":375}},{"source":"node_modules/@hox.io/hooks/src/useRect.js","original":{"line":25,"column":10},"generated":{"line":1,"column":382}},{"source":"node_modules/@hox.io/hooks/src/useRect.js","original":{"line":28,"column":15},"generated":{"line":1,"column":385}},{"source":"node_modules/@hox.io/hooks/src/useRect.js","name":"useRect","original":{"line":28,"column":24},"generated":{"line":1,"column":394}},{"source":"node_modules/@hox.io/hooks/src/useRect.js","original":{"line":29,"column":8},"generated":{"line":1,"column":398}},{"source":"node_modules/@hox.io/hooks/src/useRect.js","name":"rect","original":{"line":29,"column":9},"generated":{"line":1,"column":404}},{"source":"node_modules/@hox.io/hooks/src/useRect.js","name":"setRect","original":{"line":29,"column":15},"generated":{"line":1,"column":406}},{"source":"node_modules/@hox.io/hooks/src/useRect.js","original":{"line":29,"column":26},"generated":{"line":1,"column":410}},{"source":"node_modules/@hox.io/hooks/src/useRect.js","name":"initialState","original":{"line":29,"column":35},"generated":{"line":1,"column":412}},{"source":"node_modules/@hox.io/hooks/src/useRect.js","name":"initialState","original":{"line":29,"column":35},"generated":{"line":1,"column":414}},{"source":"node_modules/@hox.io/hooks/src/useRect.js","name":"initialState","original":{"line":29,"column":35},"generated":{"line":1,"column":424}},{"source":"node_modules/@hox.io/hooks/src/useRect.js","name":"node","original":{"line":30,"column":9},"generated":{"line":1,"column":428}},{"source":"node_modules/@hox.io/hooks/src/useRect.js","name":"setRef","original":{"line":30,"column":15},"generated":{"line":1,"column":430}},{"source":"node_modules/@hox.io/hooks/src/useRect.js","original":{"line":30,"column":25},"generated":{"line":1,"column":434}},{"source":"node_modules/@hox.io/hooks/src/useRect.js","original":{"line":30,"column":34},"generated":{"line":1,"column":436}},{"source":"node_modules/@hox.io/hooks/src/useRect.js","original":{"line":30,"column":34},"generated":{"line":1,"column":438}},{"source":"node_modules/@hox.io/hooks/src/useRect.js","original":{"line":30,"column":34},"generated":{"line":1,"column":448}},{"source":"node_modules/@hox.io/hooks/src/useRect.js","original":{"line":61,"column":9},"generated":{"line":1,"column":454}},{"source":"node_modules/@hox.io/hooks/src/useRect.js","original":{"line":33,"column":4},"generated":{"line":1,"column":461}},{"source":"node_modules/@hox.io/hooks/src/useRect.js","original":{"line":33,"column":4},"generated":{"line":1,"column":463}},{"source":"node_modules/@hox.io/hooks/src/useRect.js","original":{"line":33,"column":4},"generated":{"line":1,"column":465}},{"source":"node_modules/@hox.io/hooks/src/useRect.js","original":{"line":33,"column":4},"generated":{"line":1,"column":482}},{"source":"node_modules/@hox.io/hooks/src/useRect.js","name":"node","original":{"line":34,"column":10},"generated":{"line":1,"column":487}},{"source":"node_modules/@hox.io/hooks/src/useRect.js","original":{"line":34,"column":19},"generated":{"line":1,"column":490}},{"source":"node_modules/@hox.io/hooks/src/useRect.js","name":"node","original":{"line":34,"column":10},"generated":{"line":1,"column":497}},{"source":"node_modules/@hox.io/hooks/src/useRect.js","original":{"line":34,"column":25},"generated":{"line":1,"column":499}},{"source":"node_modules/@hox.io/hooks/src/useRect.js","name":"isActive","original":{"line":35,"column":12},"generated":{"line":1,"column":500}},{"source":"node_modules/@hox.io/hooks/src/useRect.js","name":"isActive","original":{"line":35,"column":12},"generated":{"line":1,"column":504}},{"source":"node_modules/@hox.io/hooks/src/useRect.js","original":{"line":35,"column":23},"generated":{"line":1,"column":507}},{"source":"node_modules/@hox.io/hooks/src/useRect.js","name":"resizeHandler","original":{"line":37,"column":17},"generated":{"line":1,"column":509}},{"source":"node_modules/@hox.io/hooks/src/useRect.js","name":"resizeHandler","original":{"line":37,"column":17},"generated":{"line":1,"column":518}},{"source":"node_modules/@hox.io/hooks/src/useRect.js","name":"isActive","original":{"line":38,"column":15},"generated":{"line":1,"column":522}},{"source":"node_modules/@hox.io/hooks/src/useRect.js","name":"window","original":{"line":39,"column":12},"generated":{"line":1,"column":526}},{"source":"node_modules/@hox.io/hooks/src/useRect.js","name":"requestAnimationFrame","original":{"line":39,"column":19},"generated":{"line":1,"column":533}},{"source":"node_modules/@hox.io/hooks/src/useRect.js","original":{"line":39,"column":41},"generated":{"line":1,"column":555}},{"source":"node_modules/@hox.io/hooks/src/useRect.js","name":"setRect","original":{"line":40,"column":14},"generated":{"line":1,"column":560}},{"source":"node_modules/@hox.io/hooks/src/useRect.js","name":"getRect","original":{"line":40,"column":22},"generated":{"line":1,"column":562}},{"source":"node_modules/@hox.io/hooks/src/useRect.js","name":"node","original":{"line":40,"column":30},"generated":{"line":1,"column":564}},{"source":"node_modules/@hox.io/hooks/src/useRect.js","name":"isActive","original":{"line":42,"column":14},"generated":{"line":1,"column":568}},{"source":"node_modules/@hox.io/hooks/src/useRect.js","original":{"line":42,"column":25},"generated":{"line":1,"column":571}},{"source":"node_modules/@hox.io/hooks/src/useRect.js","name":"isActive","original":{"line":45,"column":12},"generated":{"line":1,"column":575}},{"source":"node_modules/@hox.io/hooks/src/useRect.js","original":{"line":45,"column":23},"generated":{"line":1,"column":578}},{"source":"node_modules/@hox.io/hooks/src/useRect.js","original":{"line":53,"column":15},"generated":{"line":1,"column":581}},{"source":"node_modules/@hox.io/hooks/src/useRect.js","name":"window","original":{"line":49,"column":8},"generated":{"line":1,"column":588}},{"source":"node_modules/@hox.io/hooks/src/useRect.js","name":"addEventListener","original":{"line":49,"column":15},"generated":{"line":1,"column":595}},{"source":"node_modules/@hox.io/hooks/src/useRect.js","original":{"line":49,"column":32},"generated":{"line":1,"column":612}},{"source":"node_modules/@hox.io/hooks/src/useRect.js","name":"resizeHandler","original":{"line":49,"column":42},"generated":{"line":1,"column":621}},{"source":"node_modules/@hox.io/hooks/src/useRect.js","name":"setRect","original":{"line":51,"column":8},"generated":{"line":1,"column":624}},{"source":"node_modules/@hox.io/hooks/src/useRect.js","name":"getRect","original":{"line":51,"column":16},"generated":{"line":1,"column":626}},{"source":"node_modules/@hox.io/hooks/src/useRect.js","name":"node","original":{"line":51,"column":24},"generated":{"line":1,"column":628}},{"source":"node_modules/@hox.io/hooks/src/useRect.js","original":{"line":53,"column":15},"generated":{"line":1,"column":632}},{"source":"node_modules/@hox.io/hooks/src/useRect.js","name":"window","original":{"line":54,"column":10},"generated":{"line":1,"column":637}},{"source":"node_modules/@hox.io/hooks/src/useRect.js","name":"removeEventListener","original":{"line":54,"column":17},"generated":{"line":1,"column":644}},{"source":"node_modules/@hox.io/hooks/src/useRect.js","original":{"line":54,"column":37},"generated":{"line":1,"column":664}},{"source":"node_modules/@hox.io/hooks/src/useRect.js","name":"resizeHandler","original":{"line":54,"column":47},"generated":{"line":1,"column":673}},{"source":"node_modules/@hox.io/hooks/src/useRect.js","original":{"line":58,"column":4},"generated":{"line":1,"column":679}},{"source":"node_modules/@hox.io/hooks/src/useRect.js","name":"node","original":{"line":58,"column":5},"generated":{"line":1,"column":680}},{"source":"node_modules/@hox.io/hooks/src/useRect.js","original":{"line":61,"column":9},"generated":{"line":1,"column":684}},{"source":"node_modules/@hox.io/hooks/src/useRect.js","name":"rect","original":{"line":61,"column":11},"generated":{"line":1,"column":685}},{"source":"node_modules/@hox.io/hooks/src/useRect.js","name":"rect","original":{"line":61,"column":11},"generated":{"line":1,"column":690}},{"source":"node_modules/@hox.io/hooks/src/useRect.js","name":"ref","original":{"line":61,"column":17},"generated":{"line":1,"column":692}},{"source":"node_modules/@hox.io/hooks/src/useRect.js","name":"setRef","original":{"line":61,"column":22},"generated":{"line":1,"column":696}}],"sources":{"node_modules/@hox.io/hooks/src/useRect.js":"import {useLayoutEffect, useState} from 'react';\n\n// Yes getRect... You know you should on occasion.\nfunction getRect(node) {\n  const rect = node.getBoundingClientRect();\n  const offsetX = window.pageXOffset || window.scrollX;\n  const offsetY = window.pageYOffset || window.scrollY;\n  \n  return {\n    top: rect.top + offsetY,\n    right: rect.left + offsetX,\n    bottom: rect.bottom + offsetY,\n    left: rect.left + offsetX,\n    width: rect.width,\n    height: rect.height,\n  }\n}\n\nconst initialState = {\n  top: 0,\n  right: 0,\n  bottom: 0,\n  left: 0,\n  width: 0,\n  height: 0,\n};\n\nexport default function useRect() {\n  const [rect, setRect] = useState(initialState);\n  const [node, setRef] = useState(null);\n\n  useLayoutEffect(\n    () => {\n      if (node !== null) {\n        let isActive = false;\n\n        function resizeHandler() {\n          if (!isActive) {\n            window.requestAnimationFrame(() => {\n              setRect(getRect(node));\n\n              isActive = false;\n            });\n\n            isActive = true;\n          }\n        }\n\n        window.addEventListener('resize', resizeHandler);\n\n        setRect(getRect(node));\n\n        return () => {\n          window.removeEventListener('resize', resizeHandler);\n        }\n      }\n    },\n    [node]\n  );\n\n  return { rect, ref: setRef };\n}"},"lineCount":null}},"error":null,"hash":"de580641596e50af99a7d376c5c7033f","cacheData":{"env":{}}}